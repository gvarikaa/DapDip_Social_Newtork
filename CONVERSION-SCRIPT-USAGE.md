# API рЃЏрЃљрЃарЃерЃарЃБрЃбрЃћрЃЉрЃўрЃА рЃЎрЃЮрЃюрЃЋрЃћрЃарЃбрЃљрЃфрЃўрЃўрЃА рЃАрЃЎрЃарЃўрЃърЃбрЃўрЃА рЃњрЃљрЃЏрЃЮрЃДрЃћрЃюрЃћрЃЉрЃљ

рЃћрЃА рЃЊрЃЮрЃЎрЃБрЃЏрЃћрЃюрЃбрЃў рЃљрЃдрЃгрЃћрЃарЃА, рЃЌрЃБ рЃарЃЮрЃњрЃЮрЃа рЃБрЃюрЃЊрЃљ рЃњрЃљрЃЏрЃЮрЃўрЃДрЃћрЃюрЃЮрЃЌ API рЃЏрЃљрЃарЃерЃарЃБрЃбрЃћрЃЉрЃўрЃА рЃљрЃЋрЃбрЃЮрЃЏрЃљрЃбрЃБрЃарЃў рЃЎрЃЮрЃюрЃЋрЃћрЃарЃбрЃљрЃфрЃўрЃўрЃА рЃАрЃЎрЃарЃўрЃърЃбрЃў, рЃарЃЮрЃЏрЃћрЃџрЃўрЃф рЃњрЃљрЃЊрЃљрЃўрЃДрЃЋрЃљрЃюрЃА Clerk-рЃўрЃА рЃљрЃЋрЃЌрЃћрЃюрЃбрЃўрЃцрЃўрЃЎрЃљрЃфрЃўрЃљрЃА Supabase-рЃўрЃА рЃљрЃЋрЃЌрЃћрЃюрЃбрЃўрЃцрЃўрЃЎрЃљрЃфрЃўрЃљрЃќрЃћ.

## рЃАрЃЎрЃарЃўрЃърЃбрЃўрЃА рЃерЃћрЃАрЃљрЃ«рЃћрЃЉ

рЃАрЃЎрЃарЃўрЃърЃбрЃў (`scripts/convert-api-routes.mjs`) рЃљрЃЋрЃбрЃЮрЃЏрЃљрЃбрЃБрЃарЃљрЃЊ рЃЏрЃЮрЃФрЃћрЃЉрЃюрЃўрЃА API рЃЏрЃљрЃарЃерЃарЃБрЃбрЃћрЃЉрЃўрЃА рЃцрЃљрЃўрЃџрЃћрЃЉрЃА рЃЊрЃљ рЃерЃћрЃљрЃАрЃарЃБрЃџрЃћрЃЉрЃА рЃерЃћрЃЏрЃЊрЃћрЃњ рЃЮрЃърЃћрЃарЃљрЃфрЃўрЃћрЃЉрЃА:

1. рЃЕрЃљрЃљрЃюрЃљрЃфрЃЋрЃџрЃћрЃЉрЃА Clerk-рЃўрЃА рЃўрЃЏрЃърЃЮрЃарЃбрЃћрЃЉрЃА Supabase-рЃўрЃА рЃўрЃЏрЃърЃЮрЃарЃбрЃћрЃЉрЃўрЃЌ
2. рЃерЃћрЃфрЃЋрЃџрЃўрЃА `await auth()` рЃњрЃљрЃЏрЃЮрЃФрЃљрЃ«рЃћрЃЉрЃћрЃЉрЃА `auth()` рЃњрЃљрЃЏрЃЮрЃФрЃљрЃ«рЃћрЃЉрЃћрЃЉрЃўрЃЌ
3. рЃерЃћрЃфрЃЋрЃџрЃўрЃА `currentUser()` рЃњрЃљрЃЏрЃЮрЃФрЃљрЃ«рЃћрЃЉрЃћрЃЉрЃА `getAuthUser()` рЃњрЃљрЃЏрЃЮрЃФрЃљрЃ«рЃћрЃЉрЃћрЃЉрЃўрЃЌ

## рЃњрЃљрЃЏрЃЮрЃДрЃћрЃюрЃћрЃЉрЃљ

рЃАрЃЎрЃарЃўрЃърЃбрЃўрЃА рЃњрЃљрЃАрЃљрЃерЃЋрЃћрЃЉрЃљрЃЊ, рЃерЃћрЃљрЃАрЃарЃБрЃџрЃћрЃЌ рЃерЃћрЃЏрЃЊрЃћрЃњрЃў рЃЉрЃарЃФрЃљрЃюрЃћрЃЉрЃћрЃЉрЃў:

```bash
# рЃЏрЃўрЃљрЃюрЃўрЃГрЃћрЃЌ рЃњрЃљрЃерЃЋрЃћрЃЉрЃўрЃА рЃБрЃцрЃџрЃћрЃЉрЃљ рЃЌрЃБ рЃ»рЃћрЃа рЃљрЃа рЃљрЃЦрЃЋрЃА
chmod +x scripts/convert-api-routes.mjs

# рЃњрЃљрЃБрЃерЃЋрЃўрЃЌ рЃАрЃЎрЃарЃўрЃърЃбрЃў
node scripts/convert-api-routes.mjs
```

## рЃЏрЃЮрЃАрЃљрЃџрЃЮрЃЊрЃюрЃћрЃџрЃў рЃерЃћрЃЊрЃћрЃњрЃў

рЃАрЃЎрЃарЃўрЃърЃбрЃў рЃњрЃљрЃЕрЃЋрЃћрЃюрЃћрЃЉрЃЌ рЃўрЃюрЃцрЃЮрЃарЃЏрЃљрЃфрЃўрЃљрЃА рЃЏрЃўрЃЏрЃЊрЃўрЃюрЃљрЃарЃћ рЃърЃарЃЮрЃфрЃћрЃАрЃўрЃА рЃерЃћрЃАрЃљрЃ«рЃћрЃЉ:

```
­ЪћЇ рЃЋрЃћрЃФрЃћрЃЉрЃЌ API рЃЏрЃљрЃарЃерЃарЃБрЃбрЃћрЃЉрЃА...
­Ъћј рЃюрЃљрЃърЃЮрЃЋрЃюрЃўрЃљ 25 рЃЏрЃљрЃарЃерЃарЃБрЃбрЃў
РюЊ /src/app/api/example/route.ts - рЃљрЃа рЃАрЃљрЃГрЃўрЃарЃЮрЃћрЃЉрЃА рЃфрЃЋрЃџрЃўрЃџрЃћрЃЉрЃљрЃА
РюЁ /src/app/api/posts/route.ts - рЃгрЃљрЃарЃЏрЃљрЃбрЃћрЃЉрЃўрЃЌ рЃњрЃљрЃюрЃљрЃ«рЃџрЃЊрЃљ
РюЁ /src/app/api/users/[userId]/route.ts - рЃгрЃљрЃарЃЏрЃљрЃбрЃћрЃЉрЃўрЃЌ рЃњрЃљрЃюрЃљрЃ«рЃџрЃЊрЃљ
...

Рюе рЃЊрЃљрЃАрЃарЃБрЃџрЃЊрЃљ! 15/25 рЃцрЃљрЃўрЃџрЃў рЃњрЃљрЃюрЃљрЃ«рЃџрЃЊрЃљ
```

## рЃ«рЃћрЃџрЃўрЃЌ рЃерЃћрЃАрЃгрЃЮрЃарЃћрЃЉрЃљ

рЃАрЃЎрЃарЃўрЃърЃбрЃў рЃЋрЃћрЃа рЃерЃћрЃљрЃАрЃарЃБрЃџрЃћрЃЉрЃА 100%-рЃўрЃЌ рЃАрЃарЃБрЃџрЃДрЃЮрЃцрЃўрЃџ рЃЎрЃЮрЃюрЃЋрЃћрЃарЃбрЃљрЃфрЃўрЃљрЃА, рЃњрЃљрЃюрЃАрЃљрЃЎрЃБрЃЌрЃарЃћрЃЉрЃўрЃЌ рЃарЃЌрЃБрЃџрЃў рЃерЃћрЃЏрЃЌрЃ«рЃЋрЃћрЃЋрЃћрЃЉрЃўрЃАрЃЌрЃЋрЃўрЃА. рЃерЃћрЃЏрЃЊрЃћрЃњрЃў рЃбрЃўрЃърЃўрЃА рЃцрЃљрЃўрЃџрЃћрЃЉрЃў рЃерЃћрЃўрЃФрЃџрЃћрЃЉрЃљ рЃЏрЃЮрЃўрЃЌрЃ«рЃЮрЃЋрЃЊрЃћрЃА рЃ«рЃћрЃџрЃўрЃЌ рЃерЃћрЃАрЃгрЃЮрЃарЃћрЃЉрЃљрЃА:

1. API рЃЏрЃљрЃарЃерЃарЃБрЃбрЃћрЃЉрЃў, рЃарЃЮрЃЏрЃџрЃћрЃЉрЃўрЃф рЃўрЃДрЃћрЃюрЃћрЃЉрЃћрЃю Clerk-рЃўрЃА рЃБрЃцрЃарЃЮ рЃЎрЃЮрЃЏрЃърЃџрЃћрЃЦрЃАрЃБрЃа API-рЃћрЃЉрЃА (clerkClient, рЃљ.рЃе.)
2. рЃЏрЃљрЃарЃерЃарЃБрЃбрЃћрЃЉрЃў, рЃарЃЮрЃЏрЃџрЃћрЃЉрЃўрЃф рЃўрЃДрЃћрЃюрЃћрЃЉрЃћрЃю Webhook рЃЋрЃћрЃарЃўрЃцрЃўрЃЎрЃљрЃфрЃўрЃљрЃА
3. рЃЏрЃљрЃарЃерЃарЃБрЃбрЃћрЃЉрЃў, рЃарЃЮрЃЏрЃџрЃћрЃЉрЃўрЃф рЃўрЃДрЃћрЃюрЃћрЃЉрЃћрЃю рЃБрЃцрЃарЃЮ рЃЎрЃЮрЃЏрЃърЃџрЃћрЃЦрЃАрЃБрЃа рЃљрЃЋрЃЌрЃћрЃюрЃбрЃўрЃцрЃўрЃЎрЃљрЃфрЃўрЃўрЃА рЃџрЃЮрЃњрЃўрЃЎрЃљрЃА

рЃљрЃЏ рЃерЃћрЃЏрЃЌрЃ«рЃЋрЃћрЃЋрЃћрЃЉрЃўрЃАрЃЌрЃЋрЃўрЃА рЃњрЃљрЃЏрЃЮрЃўрЃДрЃћрЃюрЃћрЃЌ API-ROUTE-MIGRATION-TEMPLATE.md, рЃарЃЮрЃњрЃЮрЃарЃф рЃАрЃљрЃ«рЃћрЃџрЃЏрЃФрЃдрЃЋрЃљрЃюрЃћрЃџрЃЮ.

## рЃњрЃљрЃЏрЃЮрЃДрЃћрЃюрЃћрЃЉрЃўрЃА рЃарЃћрЃЎрЃЮрЃЏрЃћрЃюрЃЊрЃљрЃфрЃўрЃћрЃЉрЃў

1. **рЃерЃћрЃЦрЃЏрЃћрЃюрЃўрЃЌ git рЃЎрЃЮрЃЏрЃўрЃбрЃў** - рЃАрЃЎрЃарЃўрЃърЃбрЃўрЃА рЃњрЃљрЃерЃЋрЃћрЃЉрЃљрЃЏрЃЊрЃћ рЃерЃћрЃЦрЃЏрЃћрЃюрЃўрЃЌ рЃЎрЃЮрЃЏрЃўрЃбрЃў, рЃарЃљрЃЌрЃљ рЃАрЃљрЃГрЃўрЃарЃЮрЃћрЃЉрЃўрЃА рЃерЃћрЃЏрЃЌрЃ«рЃЋрЃћрЃЋрЃљрЃерЃў рЃерЃћрЃњрЃћрЃФрЃџрЃЮрЃЌ рЃфрЃЋрЃџрЃўрЃџрЃћрЃЉрЃћрЃЉрЃўрЃА рЃБрЃЎрЃљрЃю рЃЊрЃљрЃЉрЃарЃБрЃюрЃћрЃЉрЃљ
2. **рЃњрЃљрЃБрЃерЃЋрЃўрЃЌ рЃњрЃљрЃЏрЃЮрЃфрЃЊрЃљ** - рЃЎрЃЮрЃюрЃЋрЃћрЃарЃбрЃљрЃфрЃўрЃўрЃА рЃерЃћрЃЏрЃЊрЃћрЃњ рЃњрЃљрЃБрЃерЃЋрЃўрЃЌ рЃљрЃърЃџрЃўрЃЎрЃљрЃфрЃўрЃљ рЃЊрЃљ рЃерЃћрЃљрЃЏрЃЮрЃгрЃЏрЃћрЃЌ API рЃЏрЃљрЃарЃерЃарЃБрЃбрЃћрЃЉрЃўрЃА рЃцрЃБрЃюрЃЦрЃфрЃўрЃЮрЃюрЃўрЃарЃћрЃЉрЃљ
3. **рЃџрЃЮрЃњрЃћрЃЉрЃўрЃА рЃерЃћрЃЏрЃЮрЃгрЃЏрЃћрЃЉрЃљ** - рЃЊрЃљрЃљрЃЎрЃЋрЃўрЃарЃЊрЃўрЃЌ рЃЎрЃЮрЃюрЃАрЃЮрЃџрЃўрЃА рЃерЃћрЃфрЃЊрЃЮрЃЏрЃћрЃЉрЃА API рЃЏрЃљрЃарЃерЃарЃБрЃбрЃћрЃЉрЃўрЃА рЃњрЃљрЃЏрЃЮрЃФрЃљрЃ«рЃћрЃЉрЃўрЃАрЃљрЃА
4. **рЃћрЃбрЃљрЃърЃЮрЃЉрЃарЃўрЃЋрЃў рЃЎрЃЮрЃюрЃЋрЃћрЃарЃбрЃљрЃфрЃўрЃљ** - рЃЌрЃБ рЃњрЃАрЃБрЃарЃЌ, рЃерЃћрЃњрЃўрЃФрЃџрЃўрЃљрЃЌ рЃ«рЃћрЃџрЃўрЃЌ рЃЏрЃўрЃБрЃЌрЃўрЃЌрЃЮрЃЌ рЃАрЃЎрЃарЃўрЃърЃбрЃА рЃЎрЃЮрЃюрЃЎрЃарЃћрЃбрЃБрЃџрЃў рЃцрЃљрЃўрЃџрЃћрЃЉрЃў

## рЃърЃарЃЮрЃЉрЃџрЃћрЃЏрЃћрЃЉрЃўрЃА рЃњрЃљрЃЊрЃљрЃГрЃарЃљ

рЃЌрЃБ рЃЎрЃЮрЃюрЃЋрЃћрЃарЃбрЃљрЃфрЃўрЃўрЃА рЃерЃћрЃЏрЃЊрЃћрЃњ рЃљрЃгрЃДрЃЊрЃћрЃЉрЃўрЃЌ рЃърЃарЃЮрЃЉрЃџрЃћрЃЏрЃћрЃЉрЃА:

1. **рЃБрЃфрЃюрЃЮрЃЉрЃў рЃбрЃўрЃърЃћрЃЉрЃў** - рЃерЃћрЃљрЃЏрЃЮрЃгрЃЏрЃћрЃЌ рЃўрЃЏрЃърЃЮрЃарЃбрЃћрЃЉрЃў рЃЊрЃљ рЃЌрЃБ рЃАрЃљрЃГрЃўрЃарЃЮрЃљ, рЃЊрЃљрЃљрЃЏрЃљрЃбрЃћрЃЌ рЃўрЃюрЃбрЃћрЃарЃцрЃћрЃўрЃАрЃћрЃЉрЃў `lib/auth/types.ts` рЃцрЃљрЃўрЃџрЃерЃў
2. **Clerk-рЃўрЃА рЃАрЃърЃћрЃфрЃўрЃцрЃўрЃЎрЃБрЃарЃў API** - рЃќрЃЮрЃњрЃўрЃћрЃарЃЌрЃў Clerk-рЃўрЃА рЃцрЃБрЃюрЃЦрЃфрЃўрЃљ рЃерЃћрЃўрЃФрЃџрЃћрЃЉрЃљ рЃАрЃљрЃГрЃўрЃарЃЮрЃћрЃЉрЃЊрЃћрЃА рЃћрЃЏрЃБрЃџрЃљрЃфрЃўрЃљрЃА рЃљрЃю рЃЕрЃљрЃюрЃљрЃфрЃЋрЃџрЃћрЃЉрЃљрЃА
3. **рЃБрЃАрЃљрЃцрЃарЃЌрЃ«рЃЮрЃћрЃЉрЃўрЃА рЃерЃћрЃЏрЃЮрЃгрЃЏрЃћрЃЉрЃћрЃЉрЃў** - рЃњрЃљрЃљрЃљрЃюрЃљрЃџрЃўрЃќрЃћрЃЌ, рЃ«рЃЮрЃЏ рЃљрЃа рЃерЃћрЃўрЃфрЃЋрЃљрЃџрЃљ рЃБрЃАрЃљрЃцрЃарЃЌрЃ«рЃЮрЃћрЃЉрЃўрЃА рЃџрЃЮрЃњрЃўрЃЎрЃљ